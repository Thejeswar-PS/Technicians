<!-- UPS Readings Page -->
<div class="container-fluid ups-readings-container">
  <!-- Loading spinner -->
  <div
    *ngIf="loading"
    class="d-flex justify-content-center align-items-center ups-readings-loading"
  >
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <div class="ups-readings-header__top mb-4 d-flex justify-content-between align-items-center">
    <button
      type="button"
      class="btn btn-sm btn-primary ups-readings-header__back"
      (click)="onGoBack()"
      [disabled]="saving"
    >
      <i class="bi bi-arrow-left me-2"></i>
      Back
    </button>
    
    <!-- Page Title - Centered between buttons -->
    <div class="ups-page-title">
      <h2 class="fw-bold text-primary mb-0">
        <i class="bi bi-speedometer2 me-2"></i>
        UPS Readings & Verification
      </h2>
      <!-- Job and Equipment Information -->
      <div class="text-dark mt-2" *ngIf="!loading">
        <span class="fw-semibold">Job ID: {{ callNbr || 'N/A' }} | Equipment ID: {{ equipId || 'N/A' }} | UPS ID: {{ upsId || 'N/A' }}</span>
      </div>
    </div>
    
    <button
      type="button"
      class="btn btn-sm btn-primary ups-readings-header__action"
      (click)="onSave()"
      [disabled]="saving"
    >
      <span
        *ngIf="saving"
        class="spinner-border spinner-border-sm me-2"
        role="status"
      ></span>
      <i *ngIf="!saving" class="bi bi-check-circle me-2"></i>
      {{ saving ? "Saving..." : "Save UPS Data" }}
    </button>
  </div>

  <!-- Main content -->
  <div *ngIf="!loading">
    <div class="card shadow-sm">
      <div class="card-header border-0 py-4">
        <div class="ups-readings-header">
          <div class="ups-readings-header__group"></div>

        <!-- Messages -->
        <div
          class="ups-readings-messages"
          *ngIf="errorMessage || successMessage"
        >
          <div
            *ngIf="errorMessage"
            class="alert alert-danger d-inline-flex align-items-center"
          >
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            <span>{{ errorMessage }}</span>
          </div>
          <div
            *ngIf="
              successMessage && successMessage.includes('No Information Found')
            "
            class="alert alert-warning d-inline-flex align-items-center"
          >
            <i class="bi bi-info-circle-fill me-2"></i>
            <span>{{ successMessage }}</span>
          </div>
          <div
            *ngIf="
              successMessage && !successMessage.includes('No Information Found')
            "
            class="alert alert-success d-inline-flex align-items-center"
          >
            <i class="bi bi-check-circle-fill me-2"></i>
            <span>{{ successMessage }}</span>
          </div>
        </div>

    <!-- Form sections -->
    <div class="ups-readings-form">
      <!-- Equipment Verification Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showReconciliation = !showReconciliation"
          >
            <div class="ups-section-title">
              <i class="bi bi-gear-wide-connected me-2 text-primary"></i>
              <h5 class="mb-0">Equipment Verification</h5>
              <small class="text-muted"
                >Verify UPS equipment details and specifications</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showReconciliation"
              [class.bi-chevron-right]="!showReconciliation"
              [class.rotate-90]="showReconciliation"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showReconciliation">
            <form [formGroup]="equipmentForm" class="ups-form">
              <!-- Basic Equipment Information -->
              <div class="form-group-modern">
                <div class="row g-3">
                  <div class="col-md-4">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="manufacturer"
                        [class.is-invalid]="
                          equipmentForm.get('manufacturer')?.invalid &&
                          equipmentForm.get('manufacturer')?.touched
                        "
                        id="manufacturer"
                      >
                        <option value="">Choose manufacturer...</option>
                        <option
                          *ngFor="let mfg of manufacturers"
                          [value]="mfg.value"
                        >
                          {{ mfg.text }}
                        </option>
                      </select>
                      <label for="manufacturer"
                        >Make <span class="text-danger">*</span></label
                      >
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('manufacturer')?.invalid &&
                          equipmentForm.get('manufacturer')?.touched
                        "
                      >
                        Make is required
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="model"
                        [class.is-invalid]="
                          equipmentForm.get('model')?.invalid &&
                          equipmentForm.get('model')?.touched
                        "
                        id="model"
                        placeholder="e.g., 9315-225"
                      />
                      <label for="model"
                        >Model No <span class="text-danger">*</span></label
                      >
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('model')?.invalid &&
                          equipmentForm.get('model')?.touched
                        "
                      >
                        Model No is required
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="ctoPartNo"
                        id="ctoPartNo"
                        placeholder="e.g., P30002167714104"
                      />
                      <label for="ctoPartNo">CTO / Part No</label>
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-group-modern">
                <div class="row g-3">
                  <div class="col-md-4">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="serialNo"
                        [class.is-invalid]="
                          equipmentForm.get('serialNo')?.invalid &&
                          equipmentForm.get('serialNo')?.touched
                        "
                        id="serialNo"
                        placeholder="e.g., EB033ZBX02"
                      />
                      <label for="serialNo"
                        >Serial No <span class="text-danger">*</span></label
                      >
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('serialNo')?.invalid &&
                          equipmentForm.get('serialNo')?.touched
                        "
                      >
                        Serial No is required
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="location"
                        [class.is-invalid]="
                          equipmentForm.get('location')?.invalid &&
                          equipmentForm.get('location')?.touched
                        "
                        id="location"
                        placeholder="e.g., Room A224A, 2nd Floor"
                      />
                      <label for="location"
                        >Location <span class="text-danger">*</span></label
                      >
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('location')?.invalid &&
                          equipmentForm.get('location')?.touched
                        "
                      >
                        Location is required
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="status"
                        [class.is-invalid]="
                          equipmentForm.get('status')?.invalid &&
                          equipmentForm.get('status')?.touched
                        "
                        id="status"
                      >
                        <option value="" disabled selected>Please select status</option>
                        <option
                          *ngFor="let status of currentStatusOptions"
                          [value]="status.value"
                        >
                          {{ status.text }}
                        </option>
                      </select>
                      <label for="status"
                        >Status <span class="text-danger">*</span></label
                      >
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('status')?.invalid &&
                          equipmentForm.get('status')?.touched
                        "
                      >
                        Status is required
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Additional Equipment Details -->
              <div class="form-group-modern">
                <div class="row g-3">
                  <div class="col-md-4">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="maintByPass"
                        id="maintByPass"
                      >
                        <option value="">Choose bypass type...</option>
                        <option
                          *ngFor="let option of maintenanceBypassTypes"
                          [value]="option.value"
                        >
                          {{ option.text }}
                        </option>
                      </select>
                      <label for="maintByPass">Maintenance Bypass</label>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-floating">
                      <input
                        type="number"
                        class="form-control"
                        formControlName="kva"
                        [class.is-invalid]="
                          equipmentForm.get('kva')?.invalid &&
                          equipmentForm.get('kva')?.touched
                        "
                        id="kva"
                        placeholder="225.00"
                        step="0.01"
                        min="0"
                      />
                      <label for="kva"
                        >KVA Rating <span class="text-danger">*</span></label
                      >
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('kva')?.invalid &&
                          equipmentForm.get('kva')?.touched
                        "
                      >
                        KVA Rating is required
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="multiModule"
                        id="multiModule"
                      >
                        <option value="">Choose configuration...</option>
                        <option
                          *ngFor="let option of multiModuleTypes"
                          [value]="option.value"
                        >
                          {{ option.text }}
                        </option>
                      </select>
                      <label for="multiModule">Multi-Module</label>
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-group-modern">
                <div class="row g-3">
                  <div class="col-md-3">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="parallelCabinet"
                        id="parallelCabinet"
                      >
                        <option value="Y">Yes</option>
                        <option value="NO">No</option>
                        <option value="N/A">N/A</option>
                      </select>
                      <label for="parallelCabinet">Parallel Cabinet</label>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="snmpPresent"
                        id="snmpPresent"
                      >
                        <option value="">Choose option...</option>
                        <option *ngFor="let option of yesNoOptions" [value]="option.value">
                          {{ option.text }}
                        </option>
                      </select>
                      <label for="snmpPresent">SNMP Card Present</label>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="upsType"
                        id="upsType"
                      >
                        <option value="">Choose type...</option>
                        <option
                          *ngFor="let option of upsTypes"
                          [value]="option.value"
                        >
                          {{ option.text }}
                        </option>
                      </select>
                      <label for="upsType">UPS Type</label>
                    </div>
                  </div>
                  <div class="col-md-2">
                    <div class="form-floating position-relative">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="monthName"
                        [class.is-invalid]="
                          equipmentForm.get('monthName')?.invalid &&
                          equipmentForm.get('monthName')?.touched
                        "
                        id="monthName"
                        placeholder="Enter month (e.g., Jan, Feb, Mar...)">
                      
                      <label for="monthName">
                        Month <span class="text-danger">*</span>
                      </label>
                      
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('monthName')?.invalid &&
                          equipmentForm.get('monthName')?.touched
                        "
                      >
                        <span *ngIf="equipmentForm.get('monthName')?.errors?.['required']">Month is required</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-1">
                    <div class="form-floating">
                      <input
                        type="number"
                        class="form-control"
                        formControlName="year"
                        [class.is-invalid]="
                          equipmentForm.get('year')?.invalid &&
                          equipmentForm.get('year')?.touched
                        "
                        id="year"
                        placeholder="Year"
                        min="1900">
                      
                      <label for="year">
                        Year <span class="text-danger">*</span>
                      </label>
                      
                      <div
                        class="invalid-feedback"
                        *ngIf="
                          equipmentForm.get('year')?.invalid &&
                          equipmentForm.get('year')?.touched
                        "
                      >
                        <span *ngIf="equipmentForm.get('year')?.errors?.['required']">Year is required</span>
                        <span *ngIf="equipmentForm.get('year')?.errors?.['min']">Year must be at least 1900</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Equipment Reconciliation Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showReconciliationDetails = !showReconciliationDetails"
          >
            <div class="ups-section-title">
              <i class="bi bi-check2-square me-2 text-success"></i>
              <h5 class="mb-0">Equipment Reconciliation</h5>
              <small class="text-muted"
                >Verify equipment data matches physical observations</small
              >
            </div>
            <div class="d-flex align-items-center gap-3" [formGroup]="reconciliationForm" (click)="$event.stopPropagation()">
              <div class="verification-status">
                <div class="form-check d-flex align-items-center">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    formControlName="verified"
                    id="verifiedHeader"
                  />
                  <label
                    class="form-check-label fw-semibold"
                    [class]="
                      reconciliationForm.get('verified')?.value
                        ? 'text-success'
                        : 'text-muted'
                    "
                    for="verifiedHeader"
                  >
                    <i
                      class="bi me-1"
                      [class]="
                        reconciliationForm.get('verified')?.value
                          ? 'bi-check-circle-fill text-success'
                          : 'bi-circle text-muted'
                      "
                    ></i>
                    Verified
                  </label>
                </div>
              </div>
              <i
                class="bi transition-transform"
                [class.bi-chevron-down]="showReconciliationDetails"
                [class.bi-chevron-right]="!showReconciliationDetails"
                [class.rotate-90]="showReconciliationDetails"
              ></i>
            </div>
          </div>

          <div
            class="ups-section-content"
            [class.show]="showReconciliationDetails"
          >
            <div
              class="alert alert-info ups-info-tip d-flex align-items-center mb-4"
            >
              <i class="bi bi-info-circle me-2"></i>
              <small>
                Verify that the current equipment values match what is
                physically observed. Select "Yes" if correct, "No" if incorrect,
                or "N/A" if not applicable.
              </small>
            </div>

            <form [formGroup]="reconciliationForm" class="ups-form">
              <!-- Model Reconciliation -->
              <div class="reconciliation-row">
                <div class="row g-3">
                  <div class="col-md-3">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="model"
                        id="reconModel"
                        readonly
                      />
                      <label for="reconModel">Current Model</label>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="modelCorrect"
                        id="modelCorrect"
                      >
                        <option value="" disabled selected>Please select</option>
                        <option
                          *ngFor="let option of yesNoNAOptions"
                          [value]="option.value"
                        >
                          {{ option.text }}
                        </option>
                      </select>
                      <label for="modelCorrect">Is this Correct ?</label>
                    </div>
                  </div>
                  <div class="col-md-5">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="actModel"
                        [readonly]="reconciliationForm.get('modelCorrect')?.value !== 'N'"
                        id="actModel"
                        placeholder="Enter actual model if different"
                      />
                      <label for="actModel"
                        >Actual Model
                        <span class="text-muted">(if different)</span></label
                      >
                    </div>
                  </div>
                  <div
                    class="col-md-1 d-flex align-items-center justify-content-center"
                  >
                    <div class="verification-indicator">
                      <i
                        class="bi bi-check-circle-fill text-success"
                        *ngIf="
                          reconciliationForm.get('modelCorrect')?.value === 'Y'
                        "
                      ></i>
                      <i
                        class="bi bi-x-circle-fill text-danger"
                        *ngIf="
                          reconciliationForm.get('modelCorrect')?.value === 'N'
                        "
                      ></i>
                      <i
                        class="bi bi-dash-circle text-muted"
                        *ngIf="
                          reconciliationForm.get('modelCorrect')?.value ===
                          'N/A'
                        "
                      ></i>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Serial Number Reconciliation -->
              <div class="reconciliation-row">
                <div class="row g-3">
                  <div class="col-md-3">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="serialNo"
                        id="reconSerialNo"
                        readonly
                      />
                      <label for="reconSerialNo">Current Serial No</label>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="serialNoCorrect"
                        id="serialNoCorrect"
                      >
                        <option value="" disabled selected>Please select</option>
                        <option
                          *ngFor="let option of yesNoNAOptions"
                          [value]="option.value"
                        >
                          {{ option.text }}
                        </option>
                      </select>
                      <label for="serialNoCorrect">Is this Correct ?</label>
                    </div>
                  </div>
                  <div class="col-md-5">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="actSerialNo"
                        [readonly]="reconciliationForm.get('serialNoCorrect')?.value !== 'N'"
                        id="actSerialNo"
                        placeholder="Enter actual serial number if different"
                      />
                      <label for="actSerialNo"
                        >Actual Serial No
                        <span class="text-muted">(if different)</span></label
                      >
                    </div>
                  </div>
                  <div
                    class="col-md-1 d-flex align-items-center justify-content-center"
                  >
                    <div class="verification-indicator">
                      <i
                        class="bi bi-check-circle-fill text-success"
                        *ngIf="
                          reconciliationForm.get('serialNoCorrect')?.value ===
                          'Y'
                        "
                      ></i>
                      <i
                        class="bi bi-x-circle-fill text-danger"
                        *ngIf="
                          reconciliationForm.get('serialNoCorrect')?.value ===
                          'N'
                        "
                      ></i>
                      <i
                        class="bi bi-dash-circle text-muted"
                        *ngIf="
                          reconciliationForm.get('serialNoCorrect')?.value ===
                          'N/A'
                        "
                      ></i>
                    </div>
                  </div>
                </div>
              </div>

              <!-- KVA Size Reconciliation -->
              <div class="reconciliation-row">
                <div class="row g-3">
                  <div class="col-md-3">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="kvaSize"
                        id="reconKvaSize"
                        readonly
                      />
                      <label for="reconKvaSize">Current KVA Size</label>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        formControlName="kvaCorrect"
                        id="kvaCorrect"
                      >
                        <option value="" disabled selected>Please select</option>
                        <option
                          *ngFor="let option of yesNoNAOptions"
                          [value]="option.value"
                        >
                          {{ option.text }}
                        </option>
                      </select>
                      <label for="kvaCorrect">Is this Correct ?</label>
                    </div>
                  </div>
                  <div class="col-md-5">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="actKVA"
                        [readonly]="reconciliationForm.get('kvaCorrect')?.value !== 'N'"
                        id="actKVA"
                        placeholder="Enter actual KVA if different"
                      />
                      <label for="actKVA"
                        >Actual KVA
                        <span class="text-muted">(if different)</span></label
                      >
                    </div>
                  </div>
                  <div
                    class="col-md-1 d-flex align-items-center justify-content-center"
                  >
                    <div class="verification-indicator">
                      <i
                        class="bi bi-check-circle-fill text-success"
                        *ngIf="
                          reconciliationForm.get('kvaCorrect')?.value === 'Y'
                        "
                      ></i>
                      <i
                        class="bi bi-x-circle-fill text-danger"
                        *ngIf="
                          reconciliationForm.get('kvaCorrect')?.value === 'N'
                        "
                      ></i>
                      <i
                        class="bi bi-dash-circle text-muted"
                        *ngIf="
                          reconciliationForm.get('kvaCorrect')?.value === 'N/A'
                        "
                      ></i>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Measurements Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showMeasurements = !showMeasurements"
          >
            <div class="ups-section-title">
              <i class="bi bi-clipboard-data me-2 text-warning"></i>
              <h5 class="mb-0">System Measurements</h5>
              <small class="text-muted"
                >Verify UPS operational parameters and performance</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showMeasurements"
              [class.bi-chevron-right]="!showMeasurements"
              [class.rotate-90]="showMeasurements"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showMeasurements">
            <form [formGroup]="measurementsForm" class="ups-form">
              <div class="measurements-grid">
                <div class="measurement-card">
                  <div class="measurement-header">
                    <i class="bi bi-power text-primary"></i>
                    <h6 class="mb-0">Power Synchronization</h6>
                  </div>
                  <div class="measurement-content">
                    <label class="form-label"
                      >Verifying that the UPS is properly synchronized to INPUT
                      power and operating properly:</label
                    >
                    <select class="form-select" formControlName="inputPower">
                      <option
                        *ngFor="let option of measurementOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="measurement-card">
                  <div class="measurement-header">
                    <i class="bi bi-display text-info"></i>
                    <h6 class="mb-0">Display Functionality</h6>
                  </div>
                  <div class="measurement-content">
                    <label class="form-label"
                      >Verifying LCD backlight and contrast controls are
                      functional and all display pixels are visible:</label
                    >
                    <select class="form-select" formControlName="lcd">
                      <option
                        *ngFor="let option of measurementOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="measurement-card">
                  <div class="measurement-header">
                    <i class="bi bi-speedometer text-danger"></i>
                    <h6 class="mb-0">Load Verification</h6>
                  </div>
                  <div class="measurement-content">
                    <label class="form-label"
                      >% load (KVA) on UPS is not overloaded > 85%:</label
                    >
                    <select class="form-select" formControlName="loadKVA">
                      <option
                        *ngFor="let option of measurementOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="measurement-card">
                  <div class="measurement-header">
                    <i class="bi bi-diagram-3 text-success"></i>
                    <h6 class="mb-0">Phase Balance</h6>
                  </div>
                  <div class="measurement-content">
                    <label class="form-label"
                      >Are all 3 input currents within 20% balance?</label
                    >
                    <select class="form-select" formControlName="threePhase">
                      <option
                        *ngFor="let option of measurementOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="measurement-card">
                  <div class="measurement-header">
                    <i class="bi bi-check-circle text-success"></i>
                    <h6 class="mb-0">Normal Operation</h6>
                  </div>
                  <div class="measurement-content">
                    <label class="form-label"
                      >UPS is in normal operational mode:</label
                    >
                    <select class="form-select" formControlName="normal">
                      <option
                        *ngFor="let option of measurementOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="measurement-card">
                  <div class="measurement-header">
                    <i class="bi bi-gear text-secondary"></i>
                    <h6 class="mb-0">Calibration</h6>
                  </div>
                  <div class="measurement-content">
                    <label class="form-label">Verify system calibration:</label>
                    <select class="form-select" formControlName="caliberation">
                      <option
                        *ngFor="let option of measurementOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="measurement-card">
                  <div class="measurement-header">
                    <i class="bi bi-calendar-x text-warning"></i>
                    <h6 class="mb-0">End of Life</h6>
                  </div>
                  <div class="measurement-content">
                    <label class="form-label"
                      >UPS date code is < 25 years (End of Life):</label
                    >
                    <select class="form-select" formControlName="endOfLife">
                      <option
                        *ngFor="let option of measurementOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Visual and Mechanical Verification Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div class="ups-section-header" (click)="showVisual = !showVisual">
            <div class="ups-section-title">
              <i class="bi bi-eye me-2 text-info"></i>
              <h5 class="mb-0">Visual & Mechanical Verification</h5>
              <small class="text-muted"
                >Inspect physical condition and mechanical components</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showVisual"
              [class.bi-chevron-right]="!showVisual"
              [class.rotate-90]="showVisual"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showVisual">
            <form [formGroup]="visualForm" class="ups-form">
              <div class="visual-checklist">
                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">1</span>
                    <span class="checklist-title"
                      >UPS on-line without alarms:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="upsOnline">
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">2</span>
                    <span class="checklist-title"
                      >Check all nuts, bolts, screws and connections for
                      tightness:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="checkConnections"
                    >
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">3</span>
                    <span class="checklist-title"
                      >Inspect for broken, damaged, or burned components as well
                      as cables:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="inspectDamage">
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">4</span>
                    <span class="checklist-title"
                      >Vacuum interior of UPS and wipe down exterior:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="vacuumClean">
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">5</span>
                    <span class="checklist-title"
                      >Verify there is a cover on the EPO switch:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="epoSwitch">
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">6</span>
                    <span class="checklist-title"
                      >Verify all cooling fans are operating without
                      noise:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="coolingFans">
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">7</span>
                    <span class="checklist-title"
                      >Fans are less than 7 years old:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="fansAge">
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">8</span>
                    <span class="checklist-title"
                      >Inspect and clean or replace UPS air filters:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="airFilters">
                      <option
                        *ngFor="let option of airFilterOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Air Filter Details (if needed) -->
              <div *ngIf="showAirFilterDetails" class="mt-4">
                <h6 class="fw-bold text-primary mb-3">
                  <i class="bi bi-funnel me-2"></i>
                  Air Filter Details
                </h6>

                <div class="row g-3">
                  <div class="col-md-6">
                    <div class="filter-set-card">
                      <h6 class="card-title">Filter Set 1</h6>
                      <div class="row g-2">
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet1Length"
                              readonly
                              id="filter1Length"
                            />
                            <label for="filter1Length">Length</label>
                          </div>
                        </div>
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet1Width"
                              readonly
                              id="filter1Width"
                            />
                            <label for="filter1Width">Width</label>
                          </div>
                        </div>
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet1Thickness"
                              readonly
                              id="filter1Thickness"
                            />
                            <label for="filter1Thickness">Thickness</label>
                          </div>
                        </div>
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet1Quantity"
                              readonly
                              id="filter1Quantity"
                            />
                            <label for="filter1Quantity">Quantity</label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="filter-set-card">
                      <h6 class="card-title">Filter Set 2 (Optional)</h6>
                      <div class="row g-2">
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet2Length"
                              readonly
                              id="filter2Length"
                            />
                            <label for="filter2Length">Length</label>
                          </div>
                        </div>
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet2Width"
                              readonly
                              id="filter2Width"
                            />
                            <label for="filter2Width">Width</label>
                          </div>
                        </div>
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet2Thickness"
                              readonly
                              id="filter2Thickness"
                            />
                            <label for="filter2Thickness">Thickness</label>
                          </div>
                        </div>
                        <div class="col-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              formControlName="filterSet2Quantity"
                              readonly
                              id="filter2Quantity"
                            />
                            <label for="filter2Quantity">Quantity</label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Comments -->
              <div class="form-group-modern mt-4">
                <div class="form-floating">
                  <textarea
                    class="form-control"
                    formControlName="visualComments"
                    id="visualComments"
                    placeholder="Enter any additional comments or notes..."
                    style="height: 100px"
                  ></textarea>
                  <label for="visualComments"
                    >Visual and Mechanical Verification Comments</label
                  >
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Environment Verification Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showEnvironment = !showEnvironment"
          >
            <div class="ups-section-title">
              <i class="bi bi-thermometer-half me-2 text-warning"></i>
              <h5 class="mb-0">Environment Verification</h5>
              <small class="text-muted"
                >Assess environmental conditions and safety requirements</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showEnvironment"
              [class.bi-chevron-right]="!showEnvironment"
              [class.rotate-90]="showEnvironment"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showEnvironment">
            <form [formGroup]="environmentForm" class="ups-form">
              <div class="environment-checklist">
                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">1</span>
                    <span class="checklist-title"
                      >UPS room temperature / ventilation is acceptable:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="roomTempVentilation"
                    >
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">2</span>
                    <span class="checklist-title"
                      >Safety equipment is present:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="safetyEquipment"
                    >
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">3</span>
                    <span class="checklist-title"
                      >Any hostile environment (water, heat, dust, debris, burn
                      marks, or tampering by non-DC Group employee):</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="hostileEnvironment"
                    >
                      <option
                        *ngFor="let option of yesNoNAOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">4</span>
                    <span class="checklist-title"
                      >Adequate service space is available:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="serviceSpace">
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">5</span>
                    <span class="checklist-title"
                      >Circuit breakers are labeled accurately:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="circuitBreakers"
                    >
                      <option
                        *ngFor="let option of visualMechanicalOptions"
                        [value]="option.value"
                      >
                        {{ option.text }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Action Buttons within Environment Verification -->
              <div class="ups-action-buttons d-flex justify-content-center gap-3 mt-4 pt-3 border-top">
                <button
                  type="button"
                  class="btn btn-primary btn-lg px-4 py-2 save-draft-btn"
                  (click)="onSaveAsDraft()"
                  [disabled]="saving"
                >
                  <span
                    *ngIf="saving && saveMode === 'draft'"
                    class="spinner-border spinner-border-sm me-2"
                    role="status"
                  ></span>
                  <i *ngIf="!saving || saveMode !== 'draft'" class="bi bi-file-earmark me-2"></i>
                  {{ saving && saveMode === 'draft' ? "Saving Draft..." : "Save as Draft" }}
                </button>
                
                <button
                  type="button"
                  class="btn btn-primary btn-lg px-4 py-2 save-ups-btn"
                  (click)="onSaveUPS()"
                  [disabled]="saving"
                >
                  <span
                    *ngIf="saving && saveMode === 'ups'"
                    class="spinner-border spinner-border-sm me-2"
                    role="status"
                  ></span>
                  <i *ngIf="!saving || saveMode !== 'ups'" class="bi bi-save me-2"></i>
                  {{ saving && saveMode === 'ups' ? "Saving UPS..." : "Save UPS" }}
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Power Verification Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showPowerVerification = !showPowerVerification"
          >
            <div class="ups-section-title">
              <i class="bi bi-lightning me-2 text-danger"></i>
              <h5 class="mb-0">Power Verification</h5>
              <small class="text-muted"
                >Verify electrical power readings and thresholds</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showPowerVerification"
              [class.bi-chevron-right]="!showPowerVerification"
              [class.rotate-90]="showPowerVerification"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showPowerVerification">
            <!-- Input Section -->
            <div class="mb-4 configuration-section">
              <form [formGroup]="inputReadingsForm">
                <div class="form-group-modern">
                  <div class="row g-3">
                    <div class="col-md-3">
                      <div class="form-floating configuration-header">
                        <select
                          class="form-select"
                          formControlName="configuration"
                          (change)="
                            onVoltageConfigurationChange(
                              'input',
                              $any($event.target).value
                            )
                          "
                          id="inputConfiguration"
                        >
                          <option value="">Select configuration...</option>
                          <option
                            *ngFor="let config of voltageConfigurations"
                            [value]="config.id"
                          >
                            {{ config.name }}
                          </option>
                        </select>
                        <label for="inputConfiguration"
                          ><strong class="text-primary"
                            >Input Configuration</strong
                          ></label
                        >
                      </div>
                    </div>
                    <!-- Voltage and Frequency Tolerance Display -->
                    <div class="col-md-5" *ngIf="inputConfig">
                      <div class="tolerance-display p-2 bg-light border rounded">
                        <small class="text-primary fw-semibold">
                          <i class="bi bi-info-circle me-1"></i>
                          V-Tolerance: {{ getVoltageToleranceRange(inputReadingsForm.get('configuration')?.value, 'input') }}
                        </small>
                        <br>
                        <small class="text-info fw-semibold">
                          <i class="bi bi-speedometer me-1"></i>
                          Frequency Tolerance: {{ getFrequencyToleranceRange('input') }}
                        </small>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="form-check d-flex align-items-center h-100">
                        <input
                          class="form-check-input me-2"
                          type="checkbox"
                          formControlName="inputFilterCurrent"
                          id="inputFilterCurrent"
                        />
                        <label
                          class="form-check-label text-success fw-semibold"
                          for="inputFilterCurrent"
                        >
                          <i class="bi bi-check-circle me-1"></i>
                          Input Filter Current
                        </label>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="form-check d-flex align-items-center h-100">
                        <input
                          class="form-check-input me-2"
                          type="checkbox"
                          formControlName="inputThdPercent"
                          id="inputThdPercent"
                        />
                        <label
                          class="form-check-label text-success fw-semibold"
                          for="inputThdPercent"
                        >
                          <i class="bi bi-check-circle me-1"></i>
                          Input THD %
                        </label>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Input Filter Current Detail Section -->
                <div *ngIf="showInputFilterCurrent" class="dynamic-section mt-3 p-3 border rounded bg-light">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Filter Current A:</label>
                      <input type="text" class="form-control" formControlName="filterCurrentA" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="filterCurrentA_PF">
                        <option value="">Pass</option>
                        <option value="Pass">Fail</option>
                        <option value="Fail">N/A</option>
                      </select>
                    </div>
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Filter Current B:</label>
                      <input type="text" class="form-control" formControlName="filterCurrentB" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="filterCurrentB_PF">
                        <option value="">Pass</option>
                        <option value="Pass">Fail</option>
                        <option value="Fail">N/A</option>
                      </select>
                    </div>
                  </div>
                  <div class="row g-3 mt-2">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Filter Current C:</label>
                      <input type="text" class="form-control" formControlName="filterCurrentC" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="filterCurrentC_PF">
                        <option value="">Pass</option>
                        <option value="Pass">Fail</option>
                        <option value="Fail">N/A</option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Input THD Detail Section -->
                <div *ngIf="showInputTHD" class="dynamic-section mt-3 p-3 border rounded bg-light">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Input THD % A:</label>
                      <input type="text" class="form-control" formControlName="inputThdA" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="inputThdA_PF">
                        <option value="">Pass</option>
                        <option value="Pass">Fail</option>
                        <option value="Fail">N/A</option>
                      </select>
                    </div>
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Input THD % B:</label>
                      <input type="text" class="form-control" formControlName="inputThdB" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="inputThdB_PF">
                        <option value="">Pass</option>
                        <option value="Pass">Fail</option>
                        <option value="Fail">N/A</option>
                      </select>
                    </div>
                  </div>
                  <div class="row g-3 mt-2">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Input THD % C:</label>
                      <input type="text" class="form-control" formControlName="inputThdC" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="inputThdC_PF">
                        <option value="">Pass</option>
                        <option value="Pass">Fail</option>
                        <option value="Fail">N/A</option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Input voltage readings in modern table format -->
                <div *ngIf="inputConfig" class="modern-table-container">
                  <div class="table-responsive">
                    <table class="table table-modern table-bordered">
                      <thead class="table-header-primary">
                        <tr>
                          <!-- Single Phase Headers -->
                          <th
                            *ngIf="inputConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Voltage A
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Current A
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Status
                          </th>

                          <!-- Two Phase Headers -->
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Voltage A
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Current A
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Voltage B
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Current B
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>

                          <!-- Three Phase Headers -->
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Voltage A-B
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Current A
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Voltage B-C
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Current B
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Voltage C-A
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Current C
                          </th>
                          <th
                            *ngIf="inputConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>

                          <th class="text-center">Frequency</th>
                          <th class="text-center">Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <!-- Single Phase Fields -->
                          <td *ngIf="inputConfig?.phaseCount === 1">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 1">
                            <select
                              class="form-select modern-select"
                              formControlName="voltA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 1">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 1">
                            <select
                              class="form-select modern-select"
                              formControlName="currA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <!-- Two Phase Fields -->
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="voltA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="currA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="voltB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="currB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <!-- Three Phase Fields -->
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="voltA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="currA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="voltB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="currB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltC"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="voltC_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currC"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="inputConfig?.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="currC_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <!-- Frequency (common to all) -->
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="freq"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="freq_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </form>
            </div>

            <!-- By-Pass Section -->
            <div class="mb-4 configuration-section">
              <form [formGroup]="bypassReadingsForm">
                <div class="form-group-modern">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <div class="form-floating configuration-header">
                        <select
                          class="form-select"
                          formControlName="configuration"
                          (change)="
                            onVoltageConfigurationChange(
                              'bypass',
                              $any($event.target).value
                            )
                          "
                          id="bypassConfiguration"
                        >
                          <option value="">Select configuration...</option>
                          <option
                            *ngFor="let config of voltageConfigurations"
                            [value]="config.id"
                          >
                            {{ config.name }}
                          </option>
                        </select>
                        <label for="bypassConfiguration"
                          ><strong class="text-primary"
                            >By-Pass Configuration</strong
                          ></label
                        >
                      </div>
                    </div>
                    <!-- Voltage and Frequency Tolerance Display -->
                    <div class="col-md-6" *ngIf="bypassConfig">
                      <div class="tolerance-display p-2 bg-light border rounded">
                        <small class="text-primary fw-semibold">
                          <i class="bi bi-info-circle me-1"></i>
                          V-Tolerance: {{ getVoltageToleranceRange(bypassReadingsForm.get('configuration')?.value, 'bypass') }}
                        </small>
                        <br>
                        <small class="text-info fw-semibold">
                          <i class="bi bi-speedometer me-1"></i>
                          Frequency Tolerance: {{ getFrequencyToleranceRange('bypass') }}
                        </small>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Similar table structure for bypass readings -->
                <div *ngIf="bypassConfig" class="modern-table-container">
                  <div class="table-responsive">
                    <table class="table table-modern table-bordered">
                      <thead class="table-header-warning">
                        <tr>
                          <!-- Single Phase Headers -->
                          <th
                            *ngIf="bypassConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Voltage A
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Current A
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 1"
                            class="text-center"
                          >
                            Status
                          </th>

                          <!-- Two Phase Headers -->
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Voltage A
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Current A
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Voltage B
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Current B
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 2"
                            class="text-center"
                          >
                            Status
                          </th>

                          <!-- Three Phase Headers -->
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Voltage A-B
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Current A
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Voltage B-C
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Current B
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Voltage C-A
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Current C
                          </th>
                          <th
                            *ngIf="bypassConfig.phaseCount === 3"
                            class="text-center"
                          >
                            Status
                          </th>

                          <th class="text-center">Frequency</th>
                          <th class="text-center">Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <!-- Single Phase Fields -->
                          <td *ngIf="bypassConfig.phaseCount === 1">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 1">
                            <select
                              class="form-select modern-select"
                              formControlName="voltA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 1">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 1">
                            <select
                              class="form-select modern-select"
                              formControlName="currA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <!-- Two Phase Fields -->
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="voltA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="currA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="voltB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 2">
                            <select
                              class="form-select modern-select"
                              formControlName="currB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <!-- Three Phase Fields -->
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="voltA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="currA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="voltB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="currB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltC"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="voltC_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currC"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="bypassConfig.phaseCount === 3">
                            <select
                              class="form-select modern-select"
                              formControlName="currC_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <!-- Frequency (common to all) -->
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="freq"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="freq_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </form>
            </div>

            <!-- Output Section -->
            <div class="mb-4 configuration-section">
              <form [formGroup]="outputReadingsForm">
                <div class="form-group-modern">
                  <div class="row g-3">
                    <div class="col-md-3">
                      <div class="form-floating configuration-header">
                        <select
                          class="form-select"
                          formControlName="configuration"
                          (change)="
                            onVoltageConfigurationChange(
                              'output',
                              $any($event.target).value
                            )
                          "
                          id="outputConfiguration"
                        >
                          <option value="">Select configuration...</option>
                          <option
                            *ngFor="let config of voltageConfigurations"
                            [value]="config.id"
                          >
                            {{ config.name }}
                          </option>
                        </select>
                        <label for="outputConfiguration"
                          ><strong class="text-primary"
                            >Output Configuration</strong
                          ></label
                        >
                      </div>
                    </div>
                    <!-- Voltage and Frequency Tolerance Display -->
                    <div class="col-md-5" *ngIf="outputConfig">
                      <div class="tolerance-display p-2 bg-light border rounded">
                        <small class="text-primary fw-semibold">
                          <i class="bi bi-info-circle me-1"></i>
                          V-Tolerance: {{ getVoltageToleranceRange(outputReadingsForm.get('configuration')?.value, 'output') }}
                        </small>
                        <br>
                        <small class="text-info fw-semibold">
                          <i class="bi bi-speedometer me-1"></i>
                          Frequency Tolerance: {{ getFrequencyToleranceRange('output') }}
                        </small>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <div class="form-check d-flex align-items-center h-100">
                        <input
                          class="form-check-input me-2"
                          type="checkbox"
                          formControlName="outputFilterCurrent"
                          id="outputFilterCurrent"
                        />
                        <label
                          class="form-check-label text-success fw-semibold"
                          for="outputFilterCurrent"
                        >
                          <i class="bi bi-check-circle me-1"></i>
                          Output Filter Current
                        </label>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-check d-flex align-items-center h-100">
                        <input
                          class="form-check-input me-2"
                          type="checkbox"
                          formControlName="outputThdPercent"
                          id="outputThdPercent"
                        />
                        <label
                          class="form-check-label text-success fw-semibold"
                          for="outputThdPercent"
                        >
                          <i class="bi bi-check-circle me-1"></i>
                          Output THD %
                        </label>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Output Filter Current Detail Section -->
                <div *ngIf="showOutputFilterCurrent" class="dynamic-section mt-3 p-3 border rounded bg-light">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Filter Current A:</label>
                      <input type="text" class="form-control" formControlName="outputFilterCurrentA" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="outputFilterCurrentA_PF">
                        <option value="">Pass</option>
                        <option value="Fail">Fail</option>
                        <option value="N/A">N/A</option>
                      </select>
                    </div>
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Filter Current B:</label>
                      <input type="text" class="form-control" formControlName="outputFilterCurrentB" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="outputFilterCurrentB_PF">
                        <option value="">Pass</option>
                        <option value="Fail">Fail</option>
                        <option value="N/A">N/A</option>
                      </select>
                    </div>
                  </div>
                  <div class="row g-3 mt-2">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Filter Current C:</label>
                      <input type="text" class="form-control" formControlName="outputFilterCurrentC" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="outputFilterCurrentC_PF">
                        <option value="">Pass</option>
                        <option value="Fail">Fail</option>
                        <option value="N/A">N/A</option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Output THD Detail Section -->
                <div *ngIf="showOutputTHD" class="dynamic-section mt-3 p-3 border rounded bg-light">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Output THD % A:</label>
                      <input type="text" class="form-control" formControlName="outputThdA" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="outputThdA_PF">
                        <option value="">Pass</option>
                        <option value="Fail">Fail</option>
                        <option value="N/A">N/A</option>
                      </select>
                    </div>
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Output THD % B:</label>
                      <input type="text" class="form-control" formControlName="outputThdB" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="outputThdB_PF">
                        <option value="">Pass</option>
                        <option value="Fail">Fail</option>
                        <option value="N/A">N/A</option>
                      </select>
                    </div>
                  </div>
                  <div class="row g-3 mt-2">
                    <div class="col-md-4">
                      <label class="form-label fw-semibold">Output THD % C:</label>
                      <input type="text" class="form-control" formControlName="outputThdC" placeholder="Enter value">
                    </div>
                    <div class="col-md-2">
                      <label class="form-label fw-semibold">Pass:</label>
                      <select class="form-select" formControlName="outputThdC_PF">
                        <option value="">Pass</option>
                        <option value="Fail">Fail</option>
                        <option value="N/A">N/A</option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Output voltage readings with Load fields -->
                <div *ngIf="outputConfig" class="modern-table-container">
                  <div class="table-responsive">
                    <table class="table table-modern table-bordered">
                      <thead class="table-header-success">
                        <tr>
                          <th
                            *ngIf="outputConfig.phaseCount >= 1"
                            class="text-center"
                          >
                            Voltage A-B
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 1"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 1"
                            class="text-center"
                          >
                            Current A
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 1"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 1"
                            class="text-center"
                          >
                            Load(%) A
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 1"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 2"
                            class="text-center"
                          >
                            Current B
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 2"
                            class="text-center"
                          >
                            Load(%) B
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 2"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 3"
                            class="text-center"
                          >
                            Current C
                          </th>
                          <th
                            *ngIf="outputConfig.phaseCount >= 3"
                            class="text-center"
                          >
                            Status
                          </th>
                          <th class="text-center">Frequency</th>
                          <th class="text-center">Status</th>
                          <th class="text-center">Total</th>
                          <th class="text-center">Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td *ngIf="outputConfig.phaseCount >= 1">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="voltA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 1">
                            <select
                              class="form-select modern-select"
                              formControlName="voltA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 1">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 1">
                            <select
                              class="form-select modern-select"
                              formControlName="currA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 1">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="loadA"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 1">
                            <select
                              class="form-select modern-select"
                              formControlName="loadA_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 2">
                            <select
                              class="form-select modern-select"
                              formControlName="currB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 2">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="loadB"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 2">
                            <select
                              class="form-select modern-select"
                              formControlName="loadB_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 3">
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="currC"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td *ngIf="outputConfig.phaseCount >= 3">
                            <select
                              class="form-select modern-select"
                              formControlName="currC_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <!-- Frequency (common to all) -->
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="freq"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="freq_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>

                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="totalLoad"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <button
                              type="button"
                              class="btn btn-sm btn-primary"
                              (click)="calculateTotalLoad()"
                            >
                              <i class="bi bi-calculator me-1"></i>
                              Calculate
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </form>
            </div>

            <!-- Rectifier Section -->
            <div class="mb-4">
              <div class="form-group-modern">
                <h6 class="fw-bold text-info mb-3">
                  <i class="bi bi-gear me-2"></i>
                  Rectifier Verification
                  <small class="text-muted ms-2"
                    >Verify correct float voltage settings</small
                  >
                </h6>
              </div>
              <form [formGroup]="rectifierForm">
                <div class="modern-table-container">
                  <div class="table-responsive">
                    <table class="table table-modern table-bordered">
                      <thead class="table-header-info">
                        <tr>
                          <th class="text-center">DC Float Voltage</th>
                          <th class="text-center">Status</th>
                          <th class="text-center">AC Ripple Voltage</th>
                          <th class="text-center">Status</th>
                          <th class="text-center">DC Current</th>
                          <th class="text-center">Status</th>
                          <th class="text-center">POS to GND</th>
                          <th class="text-center">Status</th>
                          <th class="text-center">NEG to GND</th>
                          <th class="text-center">Status</th>
                          <th class="text-center">AC Ripple Curr</th>
                          <th class="text-center">Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="dcFloatVoltage"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="floatVolt_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="acRippleVolt"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="acRippleVolt_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="dcCurrent"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="dcCurrent_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="posToGND"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="posToGND_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="negToGND"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="negToGND_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                          <td>
                            <input
                              type="number"
                              class="form-control modern-input"
                              formControlName="acRippleCurr"
                              step="0.01"
                              placeholder="0.00"
                            />
                          </td>
                          <td>
                            <select
                              class="form-select modern-select"
                              formControlName="acRippleCurr_PF"
                            >
                              <option value="">Status</option>
                              <option
                                *ngFor="let option of powerVerificationOptions"
                                [value]="option.value"
                              >
                                {{ option.text }}
                              </option>
                            </select>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- Capacitor Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showCapacitor = !showCapacitor"
          >
            <div class="ups-section-title">
              <i class="bi bi-battery me-2 text-secondary"></i>
              <h5 class="mb-0">Capacitor Readings</h5>
              <small class="text-muted"
                >Assess capacitor condition and age</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showCapacitor"
              [class.bi-chevron-right]="!showCapacitor"
              [class.rotate-90]="showCapacitor"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showCapacitor">
            <form [formGroup]="capacitorForm" class="ups-form">
              <div class="capacitor-checklist">
                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-title"
                      >DC Caps Leaking/ Swelling:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="dcCaps_PF">
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                  <div class="checklist-age">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="dcCapsAge"
                        maxlength="4"
                        id="dcCapsAge"
                        placeholder="2017"
                      />
                      <label for="dcCapsAge">DC Caps Year</label>
                    </div>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-title"
                      >AC Input Caps Leaking/Swelling:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="acInputCaps_PF"
                    >
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                  <div class="checklist-age">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="acInputCapsAge"
                        maxlength="4"
                        id="acInputCapsAge"
                        placeholder="2017"
                      />
                      <label for="acInputCapsAge">AC Input Caps Year</label>
                    </div>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-title"
                      >AC Output Caps Leaking/Swelling:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="acOutputCaps_PF"
                    >
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                  <div class="checklist-age">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="acOutputCapsAge"
                        maxlength="4"
                        id="acOutputCapsAge"
                        placeholder="2017"
                      />
                      <label for="acOutputCapsAge">AC O/P WYE Caps Year</label>
                    </div>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-title"
                      >Comm Caps Leaking/ Swelling:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="commCaps_PF">
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                  <div class="checklist-age">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="commCapsAge"
                        maxlength="4"
                        id="commCapsAge"
                        placeholder="2017"
                      />
                      <label for="commCapsAge">AC O/P Delta Caps Year</label>
                    </div>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-title">Fans DateCode:</span>
                  </div>
                  <div class="checklist-control">
                    <!-- Empty for alignment -->
                  </div>
                  <div class="checklist-age">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="fansYear"
                        maxlength="4"
                        id="fansYear"
                        placeholder="2017"
                      />
                      <label for="fansYear">Fans DateCode Year</label>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Transfer Test Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showTransfer = !showTransfer"
          >
            <div class="ups-section-title">
              <i class="bi bi-arrow-left-right me-2 text-purple"></i>
              <h5 class="mb-0">Transfer Verification (Major PM Only)</h5>
              <small class="text-muted"
                >Verify transfer modes and operational functionality</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showTransfer"
              [class.bi-chevron-right]="!showTransfer"
              [class.rotate-90]="showTransfer"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showTransfer">
            <form [formGroup]="transferForm" class="ups-form">
              <div class="transfer-checklist">
                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">1</span>
                    <span class="checklist-title"
                      >The first major inspection performed on this unit:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="firstMajor">
                      <option value="">Select option</option>
                      <option value="Ys">Yes</option>
                      <option value="No">No</option>
                      <option value="NA">N/A</option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">2</span>
                    <span class="checklist-title"
                      >Transfer to Static By-Pass [Internal]:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="staticBypass">
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">3</span>
                    <span class="checklist-title"
                      >Transfer to Maintenance By-Pass [Only When
                      Required]:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select
                      class="form-select"
                      formControlName="transMaintByPass"
                    >
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">4</span>
                    <span class="checklist-title"
                      >Voltage / Current Wave Form:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="currentWave">
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">5</span>
                    <span class="checklist-title"
                      >Transfer to Normal Mode:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="normalMode">
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-number">6</span>
                    <span class="checklist-title"
                      >Verify any Active Alarm:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="verifyAlarm">
                      <option value="">Select status</option>
                      <option value="P">Pass</option>
                      <option value="F">Fail</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Action Required Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div
            class="ups-section-header"
            (click)="showActionRequired = !showActionRequired"
          >
            <div class="ups-section-title">
              <i class="bi bi-exclamation-triangle me-2 text-warning"></i>
              <h5 class="mb-0">Action Required</h5>
              <small class="text-muted"
                >Specify follow-up actions and requirements</small
              >
            </div>
            <i
              class="bi transition-transform"
              [class.bi-chevron-down]="showActionRequired"
              [class.bi-chevron-right]="!showActionRequired"
              [class.rotate-90]="showActionRequired"
            ></i>
          </div>

          <div class="ups-section-content" [class.show]="showActionRequired">
            <form [formGroup]="actionRequiredForm" class="ups-form">
              <div class="action-checklist">
                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-title"
                      >DC Group Action Required:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="dcgAction1">
                      <option value="">Select option</option>
                      <option value="N">No</option>
                      <option value="Y">Yes</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                  <div class="checklist-indicator">
                    <i
                      class="bi bi-check-circle-fill text-success"
                      *ngIf="
                        actionRequiredForm.get('dcgAction1')?.value === 'N'
                      "
                    ></i>
                    <i
                      class="bi bi-exclamation-triangle-fill text-warning"
                      *ngIf="
                        actionRequiredForm.get('dcgAction1')?.value === 'Y'
                      "
                    ></i>
                    <i
                      class="bi bi-dash-circle text-muted"
                      *ngIf="
                        actionRequiredForm.get('dcgAction1')?.value === 'A'
                      "
                    ></i>
                  </div>
                </div>

                <div class="checklist-item">
                  <div class="checklist-header">
                    <span class="checklist-title"
                      >Customer Action Required:</span
                    >
                  </div>
                  <div class="checklist-control">
                    <select class="form-select" formControlName="custAction1">
                      <option value="">Select option</option>
                      <option value="N">No</option>
                      <option value="Y">Yes</option>
                      <option value="A">N/A</option>
                    </select>
                  </div>
                  <div class="checklist-indicator">
                    <i
                      class="bi bi-check-circle-fill text-success"
                      *ngIf="
                        actionRequiredForm.get('custAction1')?.value === 'N'
                      "
                    ></i>
                    <i
                      class="bi bi-exclamation-triangle-fill text-warning"
                      *ngIf="
                        actionRequiredForm.get('custAction1')?.value === 'Y'
                      "
                    ></i>
                    <i
                      class="bi bi-dash-circle text-muted"
                      *ngIf="
                        actionRequiredForm.get('custAction1')?.value === 'A'
                      "
                    ></i>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Action Buttons Section -->
      <section class="ups-readings-section">
        <div class="ups-section-card">
          <div class="ups-section-content show">
            <div class="ups-actions d-flex gap-3 justify-content-center">
              <button
                type="button"
                class="btn btn-primary btn-lg px-4"
                [disabled]="saving"
                (click)="onSave()"
              >
                <span
                  *ngIf="saving"
                  class="spinner-border spinner-border-sm me-2"
                  role="status"
                ></span>
                <i *ngIf="!saving" class="bi bi-check-circle me-2"></i>
                {{ saving ? "Saving..." : "Save UPS Data" }}
              </button>

              <button
                type="button"
                class="btn btn-primary btn-lg px-4"
                [disabled]="saving"
                (click)="onSaveAsDraft()"
              >
                <i class="bi bi-file-earmark me-2"></i>
                Save as Draft
              </button>

              <button
                type="button"
                class="btn btn-primary btn-lg px-4"
                (click)="onGoBack()"
              >
                <i class="bi bi-x-circle me-2"></i>
                Cancel
              </button>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>

<!-- Modern Footer Section -->
<footer class="ups-footer mt-5">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-12 text-center">
        <div class="footer-content">
          <small class="text-muted">
            <i class="bi bi-shield-check me-1"></i>
            Copyright DC-Group, 2013. All Rights Reserved
          </small>
        </div>
      </div>
    </div>
  </div>
</footer>

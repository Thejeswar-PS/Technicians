<!-- begin::Header -->
<div class="card" style="min-width: 90vw;">
    <div class="card-body border-0 pt-5">

      <form [formGroup]="jobFilterForm" novalidate="" class="form">
        <table>
          <tr>
              <td style="border: 0px;">
                <select
                  class="form-select form-select-solid fw-bold text-dark"
                  formControlName="ownerId"
                  style="font-size:9pt;width:150px;"
                >
                  <option value="All" selected>All</option>
                  <option *ngFor="let mgr of accountManagers" [value]="mgr.offid?.trim() || mgr.empID?.trim()">
                    {{mgr.offname || mgr.empName}}
                  </option>
                </select>
              </td>
              <td>
                <select
                  class="form-select form-select-solid fw-bold text-dark"
                  formControlName="tech"
                  style="font-size:9pt;width:150px;"
                >
                <option value="All">All</option>
                <option *ngFor="let tech of technicians" [value]="tech.techID">{{tech.techname}}</option>
              </select>
              </td>
              <td>
                <select
                  class="form-select form-select-solid fw-bold text-dark"
                  style="font-size:9pt;width:150px;"
                  formControlName="state"
                 >
                 <option value="All" selected>All</option>
                  <option *ngFor="let location of locations" [value]="location.stateCode">
                    {{location.stateName}}
                  </option>
                </select>
              </td>
              <td>
                <select
                  class="form-select form-select-solid fw-bold text-dark"
                  style="font-size:9pt;width:150px;"
                  formControlName="type"
                 >
                  <option *ngFor = "let type of appTypes" [value]="type.value">{{type.Text}}</option>
                </select>
              </td>

            <td>
              <button class="btn btn-primary" type="button" (click)="SearchJobs()" style="padding: 4px 12px;">
                Get Jobs
              </button>
            </td>
          </tr>
        </table>
      </form>

      <!-- Statistics Bar matching legacy -->
      <table style="width: 100%; margin-top: 10px;" *ngIf="statistics">
        <tr>
          <td class="tblmstrtd" style="background-color: #e60000; color: White">
            <span class="statistics-title">OVERDUE</span>
            <span class="statistics-no">{{statistics.overDue}}</span>
          </td>
          <td class="tblmstrtd" style="background-color: #E8A90E; color: White">
            <span class="statistics-title">DUE TOMORROW</span>
            <span class="statistics-no">{{statistics.tomorrow}}</span>
          </td>
          <td class="tblmstrtd" style="background-color: #f4d24e; color: White">
            <span class="statistics-title">DUE 3 DAYS</span>
            <span class="statistics-no">{{statistics.due3}}</span>
          </td>
          <td class="tblmstrtd" style="background-color: #b3b300; color: White">
            <span class="statistics-title">DUE 5 DAYS</span>
            <span class="statistics-no">{{statistics.due5}}</span>
          </td>
          <td class="tblmstrtd" style="background-color: #86b300; color: White">
            <span class="statistics-title">DUE 10 DAYS</span>
            <span class="statistics-no">{{statistics.due10}}</span>
          </td>
        </tr>
      </table>

      </div>
      <full-calendar #calendar [options]="calendarOptions" class="ms-10 mb-10" style="width: 95%; font-size: large;"></full-calendar>
  </div>
